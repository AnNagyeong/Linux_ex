# Linux_ex 배경화면 설정하기

뜬금없이 명령어 쓰다가 이상한 실습 하는 거 아니고 
기억해 두려고 작성하는 ..

목표는 윈도우에 있는 사진을 록키 리눅스9에 가져와서 배경화면을 설정하는 것입니다.

1. VM 메뉴에서 Install VMare Tools 

2. ls /run/media/$사용자이름

(run 디렉토리 : 부팅 후에만 존재하는, 현재 실행 중인 시스템 상태를 닫는 일시적인 임시 공간
특징 : 부팅할 때 만들어지고(RAM 기반, tmpfs) 디스크에 저장 X, 로그아웃/재부팅하면 초기화됨
df -h /run 명령어를 사용하면 tmpfs 등
지금 시스템이 어떻게 동작 중인지에 대한 정보가 모여 있기 때문에, 로그인한 사용자, 마운트된 장치,
실행 중인 서비스 상태, 잠금 파일, 소켓 파일 등이 있음
뒤에 사용자 이름을 붙이는 이유는, 사용자가 로그인한 상태에서 자동 마운트된 장치들이 이곳에
붙기 때문에 USB, 외장하드, ISO 마운트 등이 보임.)
+ tmpfs는 처음부터 RAM 위에 비어 있는 파일 시스템을 하나 만드는 것
"RAM 일부를 커널이 파일시스템처럼 써 주는 것"
- 파일 생성 가능
- 디렉터리 생성 가능
- 권한 있음
- 다만 재부팅하면 증발

| 구분     | 디스크 FS      | tmpfs        |
| ------ | ---------------- | ------------ |
| 원본     | 있음 (`/dev/sda1`) | ❌ 없음       |
| 저장 위치  | 디스크           | RAM           |
| 재부팅 후  | 유지             | 삭제           |
| 마운트 이유 | 장치 연결       | RAM을 FS처럼 쓰기 |


| 구분    | /run/media | /mnt  |
| -----   | ---------- | ----- |
| 목적      | 자동 마운트         | 수동 마운트  |
| 생성 시점 | 로그인/장치 연결    | 관리자가 직접 |
| 재부팅 후 | 사라짐              |    유지됨    |
| 사용자    | 일반 사용자         | 주로 root |
* GUI(파일 관리자)에서 USB를 꽂으면 거의 무조건 run/media 쪽으로 

3. VMare Tools 같은 이름이 보임
4. cd /tmp
tar -xzf /run/media/$사용자이름\VMare/ Tools/VMareTools-*.tar.gz
5. cd vmare-tools-distrib
sudo ./vmware-install.pl
이후 reboot

하지만 전 일단 첫 번째 단계부터 막혔어요.
이유는 권한이 없어서.. 하핫
때문에,

VM - Settings - options - shared folders
Always enabled 활성화, Add... - 본인 컴퓨터의 윈도우 사진 폴더 선택하고, 
이름을 ex) shared 로 설정

1. ls /mnt/hgfs
-> shared 보이면 가져오기 성공
2. cp /mnt/hgfs/shared/사진.png ~/Pictures
3. 만약 2번에서 실패하면 mkdir -p ~/Pictures 명령어 쓰고 다시 2번 

* hgfs = Host-Guest File System // 호스트와 게스트의 파일을 공유하기 위한 전용 파일시스템

4. 설정 - 배경 - Pictures에서 해당 이름의 사진 파일 선택, 배경화면 설정

만약 /mnt/hgfs가 안 보일 때는
sudo systemctl restart vmware-tools
이것도 안 되면
sudo mount -t fuse.vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other

결과적으로 흐름은, 
[ Windows 파일 ] 
        ↑
VMware Workstation
        ↑
VMware Tools (게스트)
        ↑
hgfs 파일시스템
        ↑
/mnt/hgfs/shared

이 활동으로 가상화 개념에 대해서 약간의 감을 잡게 되었으며..
VMware Tools와 파일 시스템 마운트, 리눅스의 경로 구조에 대해서 조금이나마 깨닫는 시간을 가졌다는

오늘 한 실수 : 이미 파일 압축,해제 다 했으면서 "사진"이라는 이름 안에서 사진.png를 찾아서 삽질

리눅스 가상 머신 속의 파일과 윈도우의 파일은 ..다른 개념이죠..


-------------------------------------------------------------------------------------
요약하자면
[ run/ , /tmp , /tmpfs ]
저장 위치: RAM
재부팅: ❌ 사라짐
용도: 실행 중 상태, 임시 데이터

[ /mnt , /hgfs ]
저장 위치: ❌ RAM 아님
실제 파일 위치: 윈도우(호스트)
재부팅: ⭕ (공유 설정 유지 시)
